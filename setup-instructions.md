# Инструкция по настройке системы заявок IKEBER

## 1. Настройка Google Sheets

### Создание таблицы:
1. Перейдите на [Google Sheets](https://sheets.google.com)
2. Создайте новую таблицу с названием "IKEBER Заявки"
3. Добавьте следующие заголовки в первую строку:

```
ID | Дата | Имя | Телефон | Email | Тариф | Название бизнеса | Тип бизнеса | Количество товаров | Город | Источник | Комментарий | Статус | IP адрес
```

### Получение ID таблицы:
- Откройте вашу таблицу
- URL будет выглядеть так: `https://docs.google.com/spreadsheets/d/YOUR_SHEET_ID/edit`
- Скопируйте `YOUR_SHEET_ID` из URL

## 2. Настройка Google Apps Script

### Создание проекта:
1. Перейдите на [Google Apps Script](https://script.google.com)
2. Создайте новый проект
3. Назовите его "IKEBER Lead Processor"
4. Скопируйте код из файла `apps-script.js` в редактор
5. Замените константы в разделе CONFIG:
   - `SHEET_ID`: ваш ID таблицы
   - Остальные настройки (опционально)

### Развертывание скрипта:
1. Нажмите "Развернуть" → "Ное развертывание"
2. Выберите тип "Веб-приложение"
3. Настройки:
   - Выполнять от имени: "Я"
   - Доступ: "Все, включая анонимных"
4. Нажмите "Развернуть"
5. Скопируйте URL веб-приложения (понадобится для интеграции)

## 3. Настройка Telegram бота (опционально)

### Создание бота:
1. Найдите @BotFather в Telegram
2. Отправьте команду `/newbot`
3. Следуйте инструкциям для создания бота
4. Сохраните токен бота

### Получение Chat ID:
1. Добавьте бота в чат/канал
2. Отправьте любое сообщение боту
3. Перейдите по ссылке: `https://api.telegram.org/botYOUR_BOT_TOKEN/getUpdates`
4. Найдите `chat.id` в ответе

## 4. Интеграция с сайтом

### URL веб-приложения:
Замените `YOUR_SCRIPT_URL` в коде формы на URL вашего развернутого Apps Script.

### Пример URL:
```
https://script.google.com/macros/s/ABC123xyz/exec
```

## 5. Тестирование системы

1. Заполните тестовую форму на сайте
2. Проверьте появление заявки в Google Sheets
3. Убедитесь, что уведомления приходят (если настроены)
4. Проверьте ответ формы (успех/ошибка)

## Структура данных

### Обязательные поля:
- `name` - Имя
- `phone` - Телефон
- `email` - Email
- `tariff` - Тариф ("Начальный", "Логистика", "Маркетинг Плюс")

### Дополнительные поля:
- `businessName` - Название бизнеса
- `businessType` - Тип бизнеса
- `productCount` - Количество товаров
- `city` - Город
- `source` - Источник трафика
- `comment` - Комментарий

## Безопасность

- Apps Script имеет встроенную защиту от спама
- Рекомендуется добавить капчу для дополнительной защиты
- Регулярно проверяйте логи в Apps Script